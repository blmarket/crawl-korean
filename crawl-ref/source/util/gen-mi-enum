#!/usr/bin/perl -w

open IN, "<mon-info.h" or die "Can't read mon-info.h\n";
undef $/;
$_=<IN>;
s/\r//g;

s/^enum monster_info_flags\n{\n//m && s/^\s*NUM_MB_FLAGS.*//ms
    or die "Can't find monster_info_flags in mon-info.h\n";
open OUT, ">mi-enum.h" or die "Can't create mi-enum.h\n";
print OUT "// Generated by gen-mi-enum, do not edit.\n\n";
print OUT "MI_FLAG(\"\L$_\");\n" for /^ *MB_([A-Z0-9_-]+),/mg;
